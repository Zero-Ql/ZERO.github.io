<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#0078E7"><meta name="author" content="清天"><meta name="copyright" content="清天"><meta name="generator" content="Hexo 6.3.0"><meta name="theme" content="hexo-theme-yun"><title>MySQL-1 | 渡世之舟</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal(){[".post-card",".markdown-body img"].forEach(e=>{ScrollReveal().reveal(e)})}document.addEventListener("DOMContentLoaded",initScrollReveal),document.addEventListener("pjax:success",initScrollReveal)</script><link rel="icon" type="image/png" href="/wztb.ico"><link rel="mask-icon" href="/wztb.ico" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">window.Yun={},window.CONFIG={hostname:"yunyat.cloud",root:"/",title:"上善若水",version:"1.10.9",mode:"time",copycode:!0,page:{isPost:!0},i18n:{placeholder:"你想找啥....",empty:"找不到您查询的内容: ${query}",hits:"找到 ${hits} 条结果",hits_time:"找到 ${hits} 条结果（用时 ${time} 毫秒）"},anonymous_image:"https://cdn.yunyoujun.cn/img/avatar/none.jpg",say:{api:"https://v1.hitokoto.cn",hitokoto:!0},local_search:{path:"/search.xml"},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},fireworks:{colors:["102, 167, 221","62, 131, 225","33, 78, 194","187, 255, 255"]},waline:{config:{enable:!0,serverURL:"https://example.yunyat.cloud/",comment:!0,visitor:!0,emoji:["https://unpkg.com/@waline/emojis@1.1.0/bilibili","https://unpkg.com/@waline/emojis@1.2.0/weibo","https://unpkg.com/@waline/emojis@1.1.0/qq","https://unpkg.com/@waline/emojis@1.2.0/soul-emoji"],el:"#waline",lang:"zh-CN"},cdn:"https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.js",dark:"html.dark"},vendors:{host:"https://fastly.jsdelivr.net/npm/",darken:"https://fastly.jsdelivr.net/npm/darken@1.5.0"}}</script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>CONFIG.leancloudVisitors={enable:!0,app_id:"HDNhZpJ9LTgDnGyRwfVpWzCV-gzGzoHsz",app_key:"KFJlg3LG1764Ve8u8HH3LNIR",server_url:"https://hdnhzpj9.lc-cn-n1-shared.com"}</script><script defer src="/js/analytics/leancloud-visitors.js" type="module"></script><meta name="description" content="¶MySQL 简介 MySQL 是一款广泛使用的关系型数据库管理系统（RDBMS），由瑞典 MySQL AB 公司最初开发，目前隶属于 Oracle 公司。MySQL 以其开源、稳定、高效、可扩展性强等特点而著名，是互联网行业中最为流行的数据库解决方案之一。 MySQL 命令关键字本身是不区分大小写的，但是数据库名、表名、列名、别名等在不同的操作系统下区分大小写的情况有所不同：  在 Window"><meta property="og:type" content="article"><meta property="og:title" content="MySQL-1"><meta property="og:url" content="https://yunyat.cloud/2024/05/06/MySQL-1/index.html"><meta property="og:site_name" content="渡世之舟"><meta property="og:description" content="¶MySQL 简介 MySQL 是一款广泛使用的关系型数据库管理系统（RDBMS），由瑞典 MySQL AB 公司最初开发，目前隶属于 Oracle 公司。MySQL 以其开源、稳定、高效、可扩展性强等特点而著名，是互联网行业中最为流行的数据库解决方案之一。 MySQL 命令关键字本身是不区分大小写的，但是数据库名、表名、列名、别名等在不同的操作系统下区分大小写的情况有所不同：  在 Window"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.runoob.com/wp-content/uploads/2014/03/0921_1.jpg"><meta property="article:published_time" content="2024-05-06T07:09:43.000Z"><meta property="article:modified_time" content="2024-05-13T08:31:17.132Z"><meta property="article:author" content="清天"><meta property="article:tag" content="原创"><meta property="article:tag" content="MySQL"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.runoob.com/wp-content/uploads/2014/03/0921_1.jpg"><script>!function(){if("auto"!==CONFIG.mode)return;const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("darken-mode")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>IconifyProviders={"":{resources:["https://api.iconify.design"],rotate:1e3}}</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="清天"><img width="96" loading="lazy" src="/images/wa.jpg" alt="清天"><span class="site-author-status" title="清天">📖</span></a><div class="site-author-name"><a href="/about/">清天</a></div><a class="site-name" href="/about/site.html">渡世之舟</a><sub class="site-subtitle">用代码表达言语的魅力，用代码书写山河的壮丽.</sub><div class="site-description">Use code to express the charm of language, use code to write the magnificent mountains and rivers.</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">56</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">11</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">45</span></a></div><a class="site-state-item hty-icon-button" href="https://yunyat.cloud/about/" title="关于"><span class="site-state-item-icon"><span class="icon iconify" data-icon="svg-spinners:blocks-shuffle-2"></span></span></a></nav><hr style="margin-bottom:.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Zero-Ql" title="GitHub" target="_blank" style="color:var(--hty-text-color)"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:qingtian03111@gmail.com" title="E-Mail" target="_blank" style="color:#8e71c1"><span class="icon iconify" data-icon="ri:mail-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/399846312?spm_id_from=333.1007.0.0" title="哔哩哔哩" target="_blank" style="color:#ff8eb3"><span class="icon iconify" data-icon="ri:bilibili-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.travellings.cn/go.html" title="开往" target="_blank" style="color:var(--hty-text-color)"><span class="icon iconify" data-icon="ion:md-train"></span></a></div><hr style="margin:.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="友链" style="color:#1e90ff"><span class="icon iconify" data-icon="ph:address-book"></span></a><a class="links-item hty-icon-button" href="/albums/" title="相册" style="color:#ffdab9"><span class="icon iconify" data-icon="fa6-regular:images"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color:#f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">MySQL 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-%E7%9B%B8%E5%85%B3%E6%9C%AF%E8%AF%AD"><span class="toc-number">2.</span> <span class="toc-text">MySQL 相关术语</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.</span> <span class="toc-text">关系型数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.</span> <span class="toc-text">MySQL 数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.1.</span> <span class="toc-text">数值类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.2.</span> <span class="toc-text">日期和时间类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.3.</span> <span class="toc-text">字符串类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.4.</span> <span class="toc-text">枚举与集合类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A9%BA%E9%97%B4%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.5.</span> <span class="toc-text">空间数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.6.</span> <span class="toc-text">JSON 数据类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">5.</span> <span class="toc-text">数据类型的选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E9%94%AE"><span class="toc-number">6.</span> <span class="toc-text">外键</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%A7%E8%81%94%E6%93%8D%E4%BD%9C"><span class="toc-number">6.1.</span> <span class="toc-text">级联操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%A4%96%E9%94%AE"><span class="toc-number">6.2.</span> <span class="toc-text">创建外键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%A4%96%E9%94%AE"><span class="toc-number">6.3.</span> <span class="toc-text">删除外键</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E9%94%AE"><span class="toc-number">7.</span> <span class="toc-text">唯一键</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%94%AF%E4%B8%80%E9%94%AE"><span class="toc-number">7.1.</span> <span class="toc-text">添加唯一键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%94%AF%E4%B8%80%E9%94%AE"><span class="toc-number">7.2.</span> <span class="toc-text">删除唯一键</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7"><link itemprop="mainEntityOfPage" href="https://yunyat.cloud/2024/05/06/MySQL-1/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="清天"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="渡世之舟"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">MySQL-1</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <span class="post-meta-icon-text">发表于</span> <time title="创建时间：2024-05-06 15:09:43" itemprop="dateCreated datePublished" datetime="2024-05-06T15:09:43+08:00">2024-05-06</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <span class="post-meta-icon-text">更新于</span> <time title="修改时间：2024-05-13 16:31:17" itemprop="dateModified" datetime="2024-05-13T16:31:17+08:00">2024-05-13</time></div><span class="leancloud_visitors" id="/2024/05/06/MySQL-1/" data-flag-title="MySQL-1"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读次数"><span class="icon iconify" data-icon="ri:eye-line"></span> <span class="leancloud-visitors-count"></span></span></span><span class="post-meta-divider">-</span><a href="#comment"><span class="post-meta-item-icon" title="评论数"><span class="icon iconify" data-icon="ri:chat-3-line"></span> <span class="waline-comment-count" id="/2024/05/06/MySQL-1/"></span></span></a><div class="post-classify"><span class="post-category"><span class="post-meta-item-icon" style="margin-right:3px"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">数据库</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E5%8E%9F%E5%88%9B/" style="--text-color:#FF7256"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">原创</span></a><a class="tag-item" href="/tags/MySQL/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">MySQL</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h3 id="MySQL-简介"><a class="header-anchor" href="#MySQL-简介">¶</a>MySQL 简介</h3><p><em>MySQL</em> 是一款广泛使用的关系型数据库管理系统（<em>RDBMS</em>），由瑞典 <em>MySQL AB</em> 公司最初开发，目前隶属于 <em>Oracle</em> 公司。<em>MySQL</em> 以其开源、稳定、高效、可扩展性强等特点而著名，是互联网行业中最为流行的数据库解决方案之一。</p><p><em>MySQL</em> 命令关键字本身是不区分大小写的，但是数据库名、表名、列名、别名等在不同的操作系统下区分大小写的情况有所不同：</p><ul><li>在 <em>Windows</em> 系统下，<em>MySQL</em> 的表名、数据库名等默认是不区分大小写的，这是由于<code>lower_case_table_names</code>系统变量默认设置为1，它会使得 <em>MySQL</em> 在存储和查找表名时统一转换为小写。</li><li>在 <em>Linux</em> 系统和其他大多数 <em>Unix-like</em> 系统中，默认情况下 <em>MySQL</em> 是区分大小写的，也就是说，数据库名、表名等必须准确匹配其创建时的大小写。</li></ul><p>另外，尽管 <em>MySQL</em> 的关键字不区分大小写，但在编写 <em>SQL</em> 语句时，为了提高代码可读性和遵循行业标准，通常建议将 <em>SQL</em> 关键字大写，而标识符（如表名、列名）则根据实际情况保持一致的大小写规则。对于列名和列别名，无论在何种操作系统下，<em>MySQL</em> 内部都是忽略大小写的。不过要注意的是，如果启用了特定的排序规则（<em>collation</em>），即使在不区分大小写的环境中，也可能存在区分大小写的情况，尤其是在涉及到字符串比较时。</p><h3 id="MySQL-相关术语"><a class="header-anchor" href="#MySQL-相关术语">¶</a>MySQL 相关术语</h3><ul><li><strong>数据库:</strong> 数据库是一些关联表的集合。</li><li><strong>数据表:</strong> 表是数据的矩阵。在一个数据库中的表看起来像一个简单的电子表格。</li><li><strong>列:</strong> 一列(数据元素) 包含了相同类型的数据, 例如邮政编码的数据。</li><li>**行：**一行（元组，或记录）是一组相关的数据，例如一条用户订阅的数据。</li><li><strong>冗余</strong>：存储两倍数据，冗余降低了性能，但提高了数据的安全性。</li><li><strong>主键</strong>：主键是唯一的。一个数据表中只能包含一个主键。你可以使用主键来查询数据。</li><li>**外键：**外键用于关联两个表。</li><li><strong>复合键</strong>：复合键（组合键）将多个列作为一个索引键，一般用于复合索引。</li><li>**索引：**使用索引可快速访问数据库表中的特定信息。索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍的目录。</li><li><strong>参照完整性:</strong> 参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性。</li></ul><h3 id="关系型数据库"><a class="header-anchor" href="#关系型数据库">¶</a>关系型数据库</h3><p>MySQL 为关系型数据库(<em>Relational Database Management System</em>), 这种所谓的&quot;<u>关系型</u>“可以理解为”<u>表格</u>&quot;的概念, 一个关系型数据库由一个或数个表格组成, 如图所示的一个表格:</p><p><img src="https://www.runoob.com/wp-content/uploads/2014/03/0921_1.jpg" alt="img" loading="lazy"></p><ul><li><strong>表头(header):</strong> 每一列的名称;</li><li><strong>列(col):</strong> 具有相同数据类型的数据的集合;</li><li><strong>行(row):</strong> 每一行用来描述某条记录的具体信息;</li><li><strong>值(value):</strong> 行的具体信息, 每个值必须与该列的数据类型相同;</li><li><strong>键(key)</strong>: 键的值在当前列中具有唯一性。</li></ul><h3 id="MySQL-数据类型"><a class="header-anchor" href="#MySQL-数据类型">¶</a>MySQL 数据类型</h3><p>MySQL数据类型大致分为五类，<u>数值</u>、<u>日期\时间</u>、<u>字符串(字符)</u>、<u>空间类型</u> 和 <em><u>JSON</u></em> 类型，这五大类中又分为许多子类型：</p><h4 id="数值类型"><a class="header-anchor" href="#数值类型">¶</a>数值类型</h4><p>这些类型包括严格数值数据类型( <code>INTEGER</code>、<code>SMALLINT</code>、<code>DECIMAL</code> 和 <code>NUMERIC</code> )，以及近似数值数据类型( <code>FLOAT</code>、<code>REAL</code> 和 <code>DOUBLE PRECISION</code>)。</p><table><thead><tr><th>类型</th><th>大小</th><th>范围（有符号）</th><th>范围（无符号）</th><th>用途</th></tr></thead><tbody><tr><td>TINYINT</td><td>1 Bytes</td><td>(-128, 127)</td><td>(0, 255)</td><td>小整数值</td></tr><tr><td>SMALLINT</td><td>2 Bytes</td><td>(-32 768, 32 767)</td><td>(0, 65 535)</td><td>大整数值</td></tr><tr><td>MEDIUMINT</td><td>3 Bytes</td><td>(-8 388 608, 8 388 607)</td><td>(0, 16 777 215)</td><td>大整数值</td></tr><tr><td>INT 或 INTEGER</td><td>4 Bytes</td><td>(-2 147 483 648, 2 147 483 647)</td><td>(0, 4 294 967 295)</td><td>大整数值</td></tr><tr><td>BIGINT</td><td>8 Bytes</td><td>(-9 223 372 036 854 775 808, 9 223 372 036 854 775 807)</td><td>(0, 18 446 744 073 709 551 615)</td><td>极大整数值</td></tr><tr><td>FLOAT</td><td>4 Bytes</td><td>(-3.402 823 466 E+38, -1.175 494 351 E-38), (1.175 494 351 E-38, 3.402 823 466 E+38)</td><td>(0, (1.175 494 351 E-38, 3.402 823 466 E+38)</td><td>单精度浮点数值</td></tr><tr><td>DOUBLE</td><td>8 Bytes</td><td>(-1.797 693 134 862 315 7 E+308, -2.225 073 858 507 201 4 E-308), (2.225 073 858 507 201 4 E-308, 1.797 693 134 862 315 7 E+308)</td><td>(0, (2.225 073 858 507 201 4 E-308, 1.797 693 134 862 315 7 E+308)</td><td>双精度浮点数值</td></tr><tr><td>DECIMAL</td><td>对DECIMAL(M,D)，如果M>D，为M+2否则为D+2</td><td>依赖于M和D的值</td><td>依赖于M和D的值</td><td>小数值</td></tr></tbody></table><h4 id="日期和时间类型"><a class="header-anchor" href="#日期和时间类型">¶</a>日期和时间类型</h4><p>表示时间值的日期和时间类型为 <code>DATETIME</code>、<code>DATE</code>、<code>TIMESTAMP</code>、<code>TIME</code>和<code>YEAR</code>。</p><p>每个时间类型有一个有效值范围和一个&quot;零&quot;值，当指定不合法的 <em>MySQL</em> 不能表示的值时使用&quot;零&quot;值。</p><table><thead><tr><th>类型</th><th>大小</th><th>范围</th><th>格式</th><th>用途</th></tr></thead><tbody><tr><td>DATE</td><td>3 bytes</td><td>1000-01-01/9999-12-31</td><td>YYYY-MM-DD</td><td>日期值</td></tr><tr><td>TIME</td><td>3 bytes</td><td>'-838:59:59'/'838:59:59'</td><td>HH:MM:SS</td><td>时间值或持续时间</td></tr><tr><td>YEAR</td><td>1 byte</td><td>1901/2155</td><td>YYYY</td><td>年份值</td></tr><tr><td>DATETIME</td><td>8 bytes</td><td>'1000-01-01 00:00:00' 到 '9999-12-31 23:59:59'</td><td>YYYY-MM-DD hh:mm:ss</td><td>混合日期和时间值</td></tr><tr><td>TIMESTAMP</td><td>4 bytes</td><td>'1970-01-01 00:00:01' UTC 到 '2038-01-19 03:14:07'UTC<br>结束时间是第 <b>2147483647</b> 秒，北京时间 <b>2038-1-19 11:14:07</b>，格林尼治时间 2038年1月19日 凌晨 03:14:07</td><td>YYYY-MM-DD hh:mm:ss</td><td>混合日期和时间值，时间戳</td></tr></tbody></table><h4 id="字符串类型"><a class="header-anchor" href="#字符串类型">¶</a>字符串类型</h4><p>字符串类型指 <code>CHAR</code>、<code>VARCHAR</code>、<code>BINARY</code>、<code>VARBINARY</code>、<code>BLOB</code>、<code>TEXT</code>、<code>ENUM</code>和<code>SET</code>。该节描述了这些类型如何工作以及如何在查询中使用这些类型。</p><table><thead><tr><th>类型</th><th>大小</th><th>用途</th></tr></thead><tbody><tr><td>CHAR</td><td>0-255 bytes</td><td>定长字符串</td></tr><tr><td>VARCHAR</td><td>0-65535 bytes</td><td>变长字符串</td></tr><tr><td>TINYBLOB</td><td>0-255 bytes</td><td>不超过 255 个字符的二进制字符串</td></tr><tr><td>TINYTEXT</td><td>0-255 bytes</td><td>短文本字符串</td></tr><tr><td>BLOB</td><td>0-65 535 bytes</td><td>二进制形式的长文本数据</td></tr><tr><td>TEXT</td><td>0-65 535 bytes</td><td>长文本数据</td></tr><tr><td>MEDIUMBLOB</td><td>0-16 777 215 bytes</td><td>二进制形式的中等长度文本数据</td></tr><tr><td>MEDIUMTEXT</td><td>0-16 777 215 bytes</td><td>中等长度文本数据</td></tr><tr><td>LONGBLOB</td><td>0-4 294 967 295 bytes</td><td>二进制形式的极大文本数据</td></tr><tr><td>LONGTEXT</td><td>0-4 294 967 295 bytes</td><td>极大文本数据</td></tr></tbody></table>- `char(n)` 和 `varchar(n)` 中括号中 `n` 代表字符的个数，并不代表字节个数，比如 `CHAR(30)` 就可以存储 30 个字符。<ul><li><p><code>CHAR</code> 和 <code>VARCHAR</code> 类型类似，但它们保存和检索的方式不同。它们的最大长度和是否尾部空格被保留等方面也不同。在存储或检索过程中不进行大小写转换。</p></li><li><p><code>BINARY</code> 和 <code>VARBINARY</code> 类似于 <code>CHAR</code> 和 <code>VARCHAR</code>，不同的是它们包含二进制字符串而不要非二进制字符串。也就是说，它们包含字节字符串而不是字符字符串。这说明它们没有字符集，并且排序和比较基于列值字节的数值值。</p></li><li><p><code>BLOB</code> 是一个二进制大对象，可以容纳可变数量的数据。</p><ul><li><code>TINYBLOB</code></li><li><code>BLOB</code></li><li><code>MEDIUMBLOB</code></li><li><code>LONGBLOB</code></li></ul></li><li><p><code>TEXT</code> 是文本对象，同 <code>BLOB</code> 一样，也有四种类型。</p><ul><li><code>TINYTEXT</code></li><li><code>TEXT</code></li><li><code>MEDIUMTEXT</code></li><li><code>LONGTEXT</code></li></ul></li></ul><h4 id="枚举与集合类型"><a class="header-anchor" href="#枚举与集合类型">¶</a>枚举与集合类型</h4><ul><li><code>ENUM</code>：枚举类型，用于存取单一的值，可以选择一个预定义的集合。</li><li><code>SET</code>：集合类型，用于存储多个值，可以选择多个预定义的集合。</li></ul><h4 id="空间数据类型"><a class="header-anchor" href="#空间数据类型">¶</a>空间数据类型</h4><p><code>GEOMETRY</code>, <code>POINT</code>, <code>LINESTRING</code>, <code>POLYGON</code>, <code>MULTIPOINT</code>, <code>MULTILINESTRING</code>, <code>MULTIPOLYGON</code>, <code>GEOMETRYCOLLECTION</code>: 用于存储空间数据（地理信息、几何图形等）。</p><h4 id="JSON-数据类型"><a class="header-anchor" href="#JSON-数据类型">¶</a>JSON 数据类型</h4><p>​	<em>MySQL</em> 从<code>5.7.8</code>版本开始就支持存储原生的 <em>JSON</em> 类型的数据，我们可以 <em>MySQL</em> 中存储 <em>JSON</em> 对象或 <em>JSON</em> 数组。<em>JSON</em> 数据并不是以字符串的形式存储，而是使用一种允许快速读取文本元素的内部二进制格式进行存储的,在 <em>JSON</em> 数据列中插入或者更新的时候将会自动验证 <em>JSON</em> 文本数据是否正确，未通过验证的文本将产生一个错误信息。</p><p>​	<em>JSON</em> 与 <em>BLOB</em> 和 <em>TEXT</em> 类型一样，设置 <em>JSON</em> 类型的字段时不能设置默认值，其默认值只能为 <em>NULL</em> 。</p><p>​	<em>JSON</em> 类型的存储长度与 <code>LONGBLOB</code> 、<code>LONGTEXT</code> 类型长度相同，但是最大长度不能超过 <em>max_allowed_packet</em> 系统变量设置的值。</p><p>​</p><h3 id="数据类型的选择"><a class="header-anchor" href="#数据类型的选择">¶</a>数据类型的选择</h3><p>​	在 <code>MySQL 5.0</code> 及以上的版本里，一个汉字占用的长度跟编码有关，在 <em>UTF-8</em> 编码下，一个汉字占用 3 个字节，<em>GBK</em> 编码下一个汉字占用 2 个字节。</p><p>​	选择数据类型通常选择更小的，以及更简单的类型，同时应该避免使用 <em>NULL</em> 。 对于经常变化的字段应该使用 <code>varchar</code>，知道固定长度的用 <code>char</code>，尽量使用 <code>varchar</code>，能用 <code>varchar</code> 的地方不用 <code>text</code>，对于超过 255 字符的只能使用 <code>varchar</code> 或 <code>text</code>。</p><h3 id="外键"><a class="header-anchor" href="#外键">¶</a>外键</h3><p>​	外键约束是用来在两个表之间建立关系的一种约束，它定义了一个表中的列与另一个表中的列之间的关系。外键约束可以保证数据的完整性和一致性。</p><h4 id="级联操作"><a class="header-anchor" href="#级联操作">¶</a>级联操作</h4><p>在添加了外键之后，再删除主表的数据时产生的约束行为，就称之为<u>删除/更新</u>行为. 具体的行为有以下几种：</p><ul><li><code>no action</code><ul><li>当在主表中删除/更新对应记录时，首先检查该记录是否有对应的外键，如果有则不允许删除/更新. (默认为此行为，与 <code>RESTRICT</code> 一致).</li></ul></li><li><code>restrict</code><ul><li>当在主表中删除/更新对应记录时，首先检查该记录是否有对应的外键，如果有则不允许删除/更新. (默认为此行为，与 <code>NO ACTION</code> 一致).</li></ul></li><li><code>cascade</code><ul><li>当在主表中删除/更新对应记录时，首先检查该记录是否有对应的外键，如果有则也删除/更新外键所在子表中的记录.</li></ul></li><li><code>set null</code><ul><li>当在主表中删除/更新对应记录时，首先检查该记录是否有对应的外键，如果有则设置子表中该外键值为 <code>null</code> (需要允许外键值取 <code>null</code> ).</li></ul></li><li><code>set default</code><ul><li>主表有变更时，子表将外键列设置为一个默认的值. (<code>Innodb</code> 不支持)</li></ul></li></ul><h4 id="创建外键"><a class="header-anchor" href="#创建外键">¶</a>创建外键</h4><p>创建外键有两种方法：</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql"># 创建表时添加外键
CREATE TABLE 表名(
    字段名 数据类型,
    ...
    FOREIGN key(外键字段名) REFERENCES 主表(主表列名) [外键产生的行为]
);

# 单独添加外键
ALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY(外键字段名) REFERENCES 主表(主表列名);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="删除外键"><a class="header-anchor" href="#删除外键">¶</a>删除外键</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql"># 删除外键
ALTER TABLE 表名 DROP FOREIGN KEY 外键名称;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>例子：</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql"># 创建从表时添加外键
create table order_items(
item_id int auto_increment,
order_id int unsigned,
product_name varchar(255),
quantity int,
primary key(item_id),
foreign key(order_id) references orders(order_id) 
on delete cascade on update cascade);
   
# 单独添加外键
alter table scores add constraint fk_id foreign key(id) references user(id);

# 删除外键
alter table scores drop foreign key fk_id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="唯一键"><a class="header-anchor" href="#唯一键">¶</a>唯一键</h3><p>​	唯一约束是一种完整性约束，用来确保表中某一列或多列的数据具有唯一性，即不允许出现重复的值. 唯一约束有以下几条关键特点：</p><ul><li><p><strong>唯一性</strong></p><ul><li>顾名思义，唯一约束强制指定列中的数据必须是唯一的。如果尝试插入重复的值，<em>MySQL</em> 将阻止该操作并返回错误.</li></ul></li><li><p><strong>允许空值</strong></p><ul><li><p>唯一约束可以包含空值( <em>NULL</em> )，但是，一个具有唯一约束的列至多只能有一个空值.</p></li><li><blockquote><p>在数据库中，唯一约束允许列中的空值（ <em>NULL</em> ）出现一次的原因是基于空值的特殊性质。在SQL中，空值表示 “未知” 或 “不存在” 的数据。由于空值代表的是未知信息，它们在比较时不等于任何值，包括它们自己。这意味着，从逻辑上讲，你不能说一个空值等于另一个空值，因为它们都代表着未知。</p><p>因此，当我们对一个列施加唯一约束时，我们是在说这个列中的每个非空值都必须是唯一的。但是，由于空值之间不能进行比较，我们就不能说它们是“不唯一”的。这就是为什么SQL标准允许一个具有唯一约束的列可以有一个空值的原因。然而，为了维护数据的完整性和逻辑一致性，大多数数据库系统会限制这样的列至多只能有一个空值。</p></blockquote></li></ul></li><li><p><strong>多个唯一约束</strong></p><ul><li>在一个表中，可以定义多个唯一约束，这使得你可以对不同的列或列组合施加唯一性要求.</li></ul></li><li><p><strong>索引关联</strong></p><ul><li>创建唯一约束时，<em>MySQL</em> 会自动为受约束的列创建一个唯一索引，用于提高查询效率，尤其在执行这些列的查询时.</li></ul></li><li><p><strong>命名约定</strong></p><ul><li>在定义唯一约束时，可以为其指定一个明确的名称，这有助于管理和识别约束。如果不指定名称，<em>MySQL</em> 会自动为其生成一个名称，通常默认为该列的名称.</li></ul></li><li><p><strong>组合唯一约束</strong></p><ul><li>可以为表的多个列一起定义唯一约束，这意味着这一组列的值组合必须唯一，即使单个列的值可能重复。</li></ul></li><li><p><strong>非主键</strong></p><ul><li>尽管唯一约束与主键约束在确保唯一性方面有相似之处，但它不是表的主标识符，一个表可以有多个唯一约束，但主键只有一个。</li></ul></li></ul><h4 id="添加唯一键"><a class="header-anchor" href="#添加唯一键">¶</a>添加唯一键</h4><p>​	添加唯一键有两种方法：</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql"># 创建表的时候使用 UNIQUE 关键字添加
CREATE TABLE 表名(
    字段名 数据类型 [UNIQUE],
    ...
);

# 使用 ALTER TABLE 命令添加
ALTER TABLE 表名 ADD CONSTRAINT 约束名称 UNIQUE(列名);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="删除唯一键"><a class="header-anchor" href="#删除唯一键">¶</a>删除唯一键</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql"># 删除唯一键
ALTER TABLE 表名 DROP CONSTRAINT 唯一键名;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><p><em>END</em></p></div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>清天</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://yunyat.cloud/2024/05/06/MySQL-1/" title="MySQL-1">https://yunyat.cloud/2024/05/06/MySQL-1/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> 许可协议。</li></ul><script>document.addEventListener("copy",(function(t){const n=t.clipboardData||window.clipboardData;if(!n)return;const e=window.getSelection().toString();e&&(t.preventDefault(),n.setData("text/plain",e+"\n\n本文作者：清天\n本文链接：https://yunyat.cloud/2024/05/06/MySQL-1/\n版权声明：本博客所有文章除特别声明外，均默认采用 CC BY-NC-SA 4.0 许可协议。"))}))</script></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2024/05/06/MySQL-2/" rel="prev" title="MySQL-2"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">MySQL-2</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2024/04/22/springboot%E5%A4%9A%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91/" rel="next" title="springboot多模块开发"><span class="post-nav-text">springboot多模块开发</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>请留言吧</span><br></div><div id="waline"></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.css"><script>window.CONFIG.waline.config.path="/2024/05/06/MySQL-1/"</script><div class="js-Pjax"><script src="/js/comments/waline.js" type="module" defer></script></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2023 – 2024 </span><a class="with-love" id="animate" target="_blank" rel="noopener" href="https://github.com/Zero-Ql" title="清天"><span class="icon iconify" data-icon="ri:cloud-line"></span></a><span class="author"> 清天</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v6.3.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.9</span></div><div class="live-time"><span>开往彼岸的舰船已运行</span><span id="display_live_time"></span><script>function blog_live_time(){setTimeout(blog_live_time,1e3);const e=new Date("2023-04-28T00:00:00"),t=(new Date).getTime()-e.getTime(),i=Math.floor(t/864e5),o=Math.floor(t%864e5/60/60/1e3),l=Math.floor(t%36e5/60/1e3),_=Math.floor(t%6e4/1e3);display_live_time.innerHTML=` ${i} 天 ${o} 小时 ${l} 分 ${_} 秒`}blog_live_time()</script></div><div class="footer-custom-text">版本：Version 1.5.2 | <a href="https://icp.gov.moe" target="_blank" style="color:inherit"><img src="https://vip.helloimg.com/images/2023/10/23/oT0ILQ.png" width="25" style="vertical-align:middle"><a href="https://icp.gov.moe/?keyword=20231013" target="_blank">萌ICP备20231013号</a></a></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded",()=>{document.querySelector(".popup-trigger").addEventListener("click",()=>{document.querySelector(".popup").classList.add("show"),setTimeout(()=>{document.querySelector(".search-input").focus()},100)});const e=()=>{document.querySelector(".popup").classList.remove("show")};document.querySelector(".popup-btn-close").addEventListener("click",()=>{e()}),window.addEventListener("keyup",t=>{"Escape"===t.key&&e()})})</script><script src="https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="你想找啥...."></div><div class="search-result-container"></div></div><script src="https://fastly.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script>const images=[...document.querySelectorAll(".markdown-body img")];mediumZoom(images)</script><style>.medium-zoom-image{z-index:99}</style><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>